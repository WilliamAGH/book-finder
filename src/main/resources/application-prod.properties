# Production-specific properties for book_recommendation_engine
# Overrides and extends application.properties and application.yml (prod profile section)
# Defines settings for caching, security, and Clicky Analytics for production

# Production Cache Configuration
# Specific cache settings for prod environment
spring.cache.cache-names=books,bookSearchResults

# Configure the 'books' cache (individual book details)
# Max size: 2000 entries, Expire after 12 hours
spring.cache.caffeine.spec.books=maximumSize=2000,expireAfterWrite=12h

# Configure the 'bookSearchResults' cache
# Max size: 1000 entries, Expire after 1 hour
spring.cache.caffeine.spec.bookSearchResults=maximumSize=1000,expireAfterWrite=1h

# Optional: Default spec for any other dynamically created caches if needed
# spring.cache.caffeine.spec=expireAfterWrite=30m

# Logging configuration for production
# Overrides defaults from application.yml if different levels were needed
# Currently matches application.yml default, could be removed if no override intended
logging.level.root=INFO
logging.level.com.williamcallahan=INFO
logging.level.org.springframework=WARN

# Security Credentials (MUST be set via environment variables or a secure vault in production)
# Inherits fallback from application.properties if APP_ADMIN_PASSWORD/APP_USER_PASSWORD not set
# It is CRITICAL these are set via environment variables in production
app.security.admin.password=${APP_ADMIN_PASSWORD}
app.security.user.password=${APP_USER_PASSWORD}

# Clicky Analytics Configuration
# Ensure appropriate security headers are configured for analytics
app.security.headers.content-security-policy.enabled=true
app.security.headers.referrer-policy=ORIGIN_WHEN_CROSS_ORIGIN
app.clicky.enabled=true
app.clicky.site-id=101484793

# Book covers CDN domains
# These are used by SecurityConfig to build CSP headers when prod profile is active
# Multiple domains for book covers separated by comma
app.book.covers.cdn-domain=https://book-finder.sfo3.digitaloceanspaces.com
app.book.covers.additional-domains=https://books.google.com, https://bookcover.longitood.com, https://covers.openlibrary.org, https://i.gr-assets.com, https://images-na.ssl-images-amazon.com
